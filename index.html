<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOLTTI - Premium Streaming</title>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="videoPlayerModal" class="video-modal">
        <span class="close-modal" onclick="fecharPlayer()">√ó</span>
        <div class="modal-content">
            <video id="player" playsinline controls>
                <source src="" type="video/mp4" />
            </video>
        </div>
    </div>

    <div id="inicio" class="tab-content active">
        <div class="bg-gradient"></div>
        <header class="mobile-header">
            <div class="logo">VOLTTI<span>.</span></div>
            <div class="price-tag">R$ 9,00</div>
        </header>

        <section class="hero-mobile">
            <div class="main-poster">
                <img src="https://drive.google.com/thumbnail?id=1ta4H5bAOZ1932KTsbwqxDNRIDdhahAOX&sz=w1000" alt="Capa Destaque">
            </div>
            <div class="hero-content">
                <span class="status">DESTAQUE</span>
                <h1>Uma Noite no Museu 2</h1>
                <p>O guarda Larry Daley mergulha na maior aventura de sua vida quando as pe√ßas do Smithsonian ganham vida.</p>
                <div class="mobile-actions">
                    <button onclick="abrirPlayer('http://localhost:8080/stream/2?hash=a2583a')" class="btn-play">ASSISTIR AGORA</button>
                    <button class="btn-list">+</button>
                </div>
            </div>
        </section>

        <section class="horizontal-list">
            <h3>Novidades no Cat√°logo</h3>
            <div id="container-geral" class="cards-container">
                </div>
        </section>
    </div>

    <div id="busca" class="tab-content" style="display: none;">
        <section class="search-section">
            <h2>Descobrir</h2>
            <input type="text" id="searchInput" placeholder="Filmes, s√©ries ou doramas...">
            <div id="searchResult" class="results-grid">
                <p class="search-placeholder">Busque por t√≠tulos...</p>
            </div>
        </section>
    </div>

    <div id="perfil" class="tab-content" style="display: none;">
        <section class="profile-section">
            <div class="profile-header">
                <div class="avatar">V</div>
                <h2>Usu√°rio VOLTTI</h2>
            </div>
            <div class="status-card">
                <h3>Assinatura Premium</h3>
                <div class="info-row"><span>Status:</span><span style="color: #00ff88;">Ativo</span></div>
                <div class="info-row"><span>Valor Mensal:</span><span>R$ 9,00</span></div>
            </div>
            <div class="profile-menu">
                <button class="menu-item" onclick="abrirSuporte()">
                    <span>üí¨ Suporte via WhatsApp</span><span>‚ùØ</span>
                </button>
            </div>
            <button class="btn-logout" onclick="window.location.reload()">Sair da Conta</button>
        </section>
    </div>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="trocarAba('inicio', this)">
            <span class="icon">üè†</span><span class="label">In√≠cio</span>
        </div>
        <div class="nav-item" onclick="trocarAba('busca', this)">
            <span class="icon">üîç</span><span class="label">Busca</span>
        </div>
        <div class="nav-item" onclick="trocarAba('perfil', this)">
            <span class="icon">üë§</span><span class="label">Perfil</span>
        </div>
    </nav>

    <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
    <script>
        // BANCO DE DADOS INTEGRADO (Para facilitar antes das pastas)
        const catalogo = [
            {
                id: 1,
                titulo: "Uma Noite no Museu 2",
                capa: "https://drive.google.com/thumbnail?id=1ta4H5bAOZ1932KTsbwqxDNRIDdhahAOX&sz=w500",
                link: "http://localhost:8080/stream/2?hash=a2583a"
            }
            // Adicione novos itens aqui seguindo o mesmo padr√£o
        ];

        // Inicializa Player
        const player = new Plyr('#player');

        function abrirPlayer(link) {
            const modal = document.getElementById('videoPlayerModal');
            player.source = { type: 'video', sources: [{ src: link, type: 'video/mp4' }] };
            modal.style.display = 'flex';
            player.play();
        }

        function fecharPlayer() {
            document.getElementById('videoPlayerModal').style.display = 'none';
            player.pause();
        }

        function trocarAba(idAba, elemento) {
            document.querySelectorAll('.tab-content').forEach(t => t.style.display = 'none');
            document.getElementById(idAba).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            elemento.classList.add('active');
            window.scrollTo(0, 0);
        }

        function abrirSuporte() {
            const msg = encodeURIComponent("Ol√° VOLTTI! Preciso de ajuda com minha assinatura de R$ 9,00.");
            window.open(`https://wa.me/5598981296742?text=${msg}`, '_blank');
        }

        // L√≥gica de Busca
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const termo = e.target.value.toLowerCase();
            const resultados = document.getElementById('searchResult');
            if(termo.length > 2) {
                const filtrados = catalogo.filter(i => i.titulo.toLowerCase().includes(termo));
                resultados.innerHTML = filtrados.map(i => `
                    <div class="search-item" onclick="abrirPlayer('${i.link}')">
                        <img src="${i.capa}" width="40" style="border-radius:5px">
                        <span>${i.titulo}</span>
                        <small>Assistir</small>
                    </div>
                `).join('');
            }
        });

        // Carrega os cards ao iniciar
        window.onload = () => {
            const container = document.getElementById('container-geral');
            container.innerHTML = catalogo.map(item => `
                <div class="m-card" onclick="abrirPlayer('${item.link}')" style="background-image: url('${item.capa}')">
                    <div class="card-overlay"><span>${item.titulo}</span></div>
                </div>
            `).join('');
        };
    </script>
</body>
</html>